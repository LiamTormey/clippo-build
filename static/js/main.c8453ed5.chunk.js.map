{"version":3,"sources":["pages/editor/style.module.css","components/common/style.module.css","components/Timestamps/style.module.css","logo.svg","components/YoutubeVideo/style.module.css","components/YoutubeVideo/YoutubeVideo.js","dispatcher.js","actions/timestamps.js","components/Timestamps/Timestamp.js","stores/timestamps.js","components/Timestamps/Timestamps.js","components/common/FieldInput.js","stores/video.js","components/ControlPanel/ControlPanel.js","actions/video.js","pages/editor/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","props","videoId","onStateChangeFunction","events","onStateChange","onErrorFunction","onError","onReadyFunction","onReady","id","ref","console","log","tag","document","createElement","text","firstScriptTag","getElementsByTagName","parentNode","insertBefore","init","window","e","player","Player","target","a","style","Dispatcher","nextActive","dispatch","type","data","active","classes","styleModule","timestamp","join","onDragOver","preventDefault","onDragStart","ev","dataTransfer","setData","place","onDrop","place1","place2","draggedPlace","getData","draggable","className","onChange","time","value","start","end","ourTimestampsStore","_timestamps","_active","undefined","_enabled","this","sort","b","map","stamp","i","newStamp","ar","_cleanPlacement","_calculateActive","emit","Number","index","findIndex","p1","p2","place1Index","place2Index","find","push","firstIndex","enabled","lastPlace","length","currentPlace","forEach","element","nextActivePlace","action","_setTimestamps","timestamps","_addTimestamp","_setStart","_setEnd","_swapPlaces","_nextAcitve","_setTimestampsEnabled","EventEmitter","getTimestampStore","register","handleAction","bind","useState","TimestampsStore","getTimestamps","setTimestamps","changeListener","changeStart","changeEnd","changePlace","useEffect","on","removeListener","ts","Timestamp","inputField","inputTitle","title","inputValue","videoStoreInstance","_videoPlayer","URL","getVideoUrl","searchParams","get","_videoID","_setVideoID","loadVideoById","_setVideoPlayer","getVideoStore","url","setURL","TimestampStore","getEnabled","setStampsEnabled","updateEnabled","changeVideo","VideoStore","getVideoID","videoID","error","FieldInput","checked","padding","backgroundColor","fontWeight","editor","left","upperLeft","YoutubeVideo","videoPlayer","setInterval","Math","floor","getCurrentTime","seekTo","getPlayerState","playVideo","lowerLeft","ControlPanel","right","onClick","Timestamps","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c8453ed5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__G1Q5N\",\"right\":\"style_right__1ONM0\",\"left\":\"style_left__JU7dT\",\"upperLeft\":\"style_upperLeft__3RCLR\",\"lowerLeft\":\"style_lowerLeft__1nJQ3\",\"upperRight\":\"style_upperRight__By1OQ\",\"lowerRight\":\"style_lowerRight__165cc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputField\":\"style_inputField__2LIox\",\"inputTitle\":\"style_inputTitle__nyP8A\",\"inputValue\":\"style_inputValue__bNoC0\",\"tag\":\"style_tag__yIczj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timestamp\":\"style_timestamp__2cQzq\",\"active\":\"style_active__6g9zj\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerHolder\":\"style_playerHolder__3UFfD\"};","import React, { useEffect, useState } from 'react' \r\nimport styleModule from './style.module.css'\r\nexport default (props) => { \r\n    \r\n    let videoId = props.videoId \r\n    let onStateChangeFunction = props.events.onStateChange || (()=>{})\r\n    let onErrorFunction = props.events.onError || (()=>{})\r\n    let onReadyFunction = props.events.onReady || (()=>{})\r\n\r\n    //set up the functions the youtube api will call once its downloaded \r\n    const setUpHandler = (e) => { \r\n        window['onYouTubeIframeAPIReady'] = (e) => { \r\n            let player = new window['YT'].Player('player', {\r\n                videoId: videoId,\r\n                events: {\r\n                    'onStateChange': (e) => {onStateChangeFunction(e, player)},\r\n                    'onError': (e) => {onErrorFunction(e, player)},\r\n                    'onReady': (e) => {\r\n                        const IFRAME = e.target.a\r\n                        IFRAME.style=\"width:100%;height:100%\"\r\n                        onReadyFunction(e, player)\r\n                    }\r\n                } \r\n            });\r\n        }\r\n    }\r\n\r\n    //download the yt api script \r\n    const init = () => { \r\n        var tag = document.createElement('script');\r\n        //tag.src = \"https://www.youtube.com/iframe_api\";\r\n        tag.text = \"if (!window['YT']) {var YT = {loading: 0,loaded: 0};}if (!window['YTConfig']) {var YTConfig = {'host': 'http://www.youtube.com'};}if (!YT.loading) {YT.loading = 1;(function(){var l = [];YT.ready = function(f) {if (YT.loaded) {f();} else {l.push(f);}};window.onYTReady = function() {YT.loaded = 1;for (var i = 0; i < l.length; i++) {try {l[i]();} catch (e) {}}};YT.setConfig = function(c) {for (var k in c) {if (c.hasOwnProperty(k)) {YTConfig[k] = c[k];}}};var a = document.createElement('script');a.type = 'text/javascript';a.id = 'www-widgetapi-script';a.src = 'https://s.ytimg.com/yts/jsbin/www-widgetapi-vflWjyjuR/www-widgetapi.js';a.async = true;var c = document.currentScript;if (c) {var n = c.nonce || c.getAttribute('nonce');if (n) {a.setAttribute('nonce', n);}}var b = document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a, b);})();}\"\r\n        var firstScriptTag = document.getElementsByTagName('script')[0];\r\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n    }\r\n\r\n    const videoRefLoaded = () => { \r\n        console.log(\"VIDEO REF LOADED\")\r\n        init() \r\n        setUpHandler() \r\n    }\r\n    \r\n    return(\r\n        <div id='player' ref={videoRefLoaded}> </div>\r\n   )\r\n}","import { Dispatcher } from 'flux'\r\n\r\nexport default new Dispatcher()","import Dispatcher from '../dispatcher'\r\n\r\nexport const setTimestamps = (timestamps) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SET_TIMESTAMPS\", \r\n        timestamps\r\n    })\r\n}\r\n\r\nexport const addTimestamp = (timestamp) => { \r\n    Dispatcher.dispatch({\r\n        type: \"ADD_TIMESTAMP\", \r\n        timestamp\r\n    })\r\n}\r\n\r\nexport const setStart = (place, time) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SET_START\", \r\n        place,\r\n        time: time\r\n    })\r\n}\r\n\r\nexport const setEnd = (place, end) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SET_END\", \r\n        place, \r\n        time: end\r\n    })\r\n}\r\n\r\nexport const swapPlaces = (place1, place2) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SWAP_PLACES\", \r\n        place1,\r\n        place2\r\n    })\r\n}\r\n\r\nexport const nextActive = () => { \r\n    Dispatcher.dispatch({\r\n        type: \"NEXT_ACTIVE\"\r\n    })\r\n}\r\n\r\nexport const setTimestampsEnabled = (enabled) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SET_TIMESTAMPS_ENABLED\", \r\n        enabled\r\n    })\r\n}\r\n\r\n\r\n","import React from 'react' \r\nimport {setStart, setEnd, swapPlaces} from \"../../actions/timestamps\"\r\nimport styleModule from \"./style.module.css\"\r\nexport default (props) => { \r\n\r\n    //when we get dropped on \r\n    const onDrop = (ev) => { \r\n        const draggedPlace = ev.dataTransfer.getData(\"place\");\r\n        //props.changePlace(draggedPlace, props.place)\r\n        swapPlaces(draggedPlace, props.place)\r\n    }\r\n    //when we get dragged\r\n    const onStartDrag = (ev) => { \r\n        ev.dataTransfer.setData(\"place\", props.place);\r\n    }\r\n\r\n    const onDragOver = (e) => { \r\n        e.preventDefault()\r\n    }\r\n\r\n    const startChange = (e) => { \r\n        //props.changeStart(props.place, e.target.value)\r\n        setStart(props.place, e.target.value)\r\n    }\r\n\r\n    const endChange = (e) => { \r\n        //props.changeEnd(props.place, e.target.value)\r\n        setEnd(props.place, e.target.value)\r\n    }\r\n    console.log(\"::\", props.data.active)\r\n\r\n    const classes = props.data.active ? (\r\n        [styleModule.timestamp, styleModule.active].join(\" \")\r\n    ) : (\r\n        [styleModule.timestamp].join(\" \")\r\n    );\r\n\r\n    return(<div onDragOver={onDragOver} onDragStart={onStartDrag} onDrop={onDrop} draggable=\"true\" className={classes}>\r\n        <input onChange={startChange} value={props.data.start}/> to\r\n        <input onChange={endChange} value={props.data.end}/>\r\n    </div>);\r\n}","import EventEmitter from 'events'\r\nimport Dispatcher from \"../dispatcher\"\r\n\r\nclass TimestampStore extends EventEmitter { \r\n\r\n    constructor() { \r\n        super();\r\n        this._timestamps = []  \r\n        this._active = undefined \r\n        this._enabled = true \r\n    }\r\n\r\n    _cleanPlacement() { \r\n        this._timestamps = this._timestamps.sort( (a,b) => {\r\n            if(a.place > b.place) { \r\n                return 1; \r\n            } else if(a.place < b.place) { \r\n                return -1;\r\n            } else { \r\n                return 0; \r\n            }\r\n        })\r\n        \r\n        this._timestamps = this._timestamps.map( (stamp, i) => { \r\n            let newStamp = {...stamp}\r\n            newStamp.place = i + 1\r\n            return newStamp; \r\n        })\r\n    }\r\n\r\n    _setTimestamps(ar) { \r\n        this._timestamps = [...ar]\r\n        this._cleanPlacement()\r\n        this._calculateActive()\r\n        this.emit('change')\r\n    }\r\n\r\n    _setStart(place, time) { \r\n        time = Number(time)\r\n        place = Number(place) \r\n        const index = this._timestamps.findIndex( (stamp) => {\r\n            return stamp.place == place \r\n        })\r\n        this._timestamps[index].start = time \r\n        this.emit('change')\r\n    }\r\n\r\n    _setEnd(place, time) { \r\n        time = Number(time)\r\n        place = Number(place) \r\n        console.log('set end ', place, time)\r\n        const index = this._timestamps.findIndex( (stamp) => {\r\n            return stamp.place == place \r\n        })\r\n        console.log(\"index \", index)\r\n        this._timestamps[index].end = time \r\n        this.emit('change')\r\n    }\r\n\r\n    _swapPlaces(p1, p2) { \r\n        const place1Index = this._timestamps.findIndex(stamp=>{return stamp.place == p1})\r\n        const place2Index = this._timestamps.findIndex(stamp=>{return stamp.place == p2})\r\n        this._timestamps[place1Index].place = p2 \r\n        this._timestamps[place2Index].place = p1 \r\n\r\n        //recalculate the _active \r\n        this._active = this._timestamps.find( (stamp) => stamp.active == true)\r\n\r\n        this._cleanPlacement()\r\n        this.emit('change')\r\n    }\r\n\r\n    _addTimestamp(timestamp) { \r\n        this._timestamps.push(timestamp)\r\n\r\n        if(this._active == undefined) { \r\n            this._calculateActive()\r\n        }\r\n\r\n        this._cleanPlacement()\r\n        this.emit('change')\r\n    }\r\n\r\n    getTimestamps() { \r\n        return [...this._timestamps]\r\n    }\r\n\r\n    _calculateActive() { \r\n        \r\n        let activeIndex = this._timestamps.findIndex(stamp => stamp.active == true)\r\n        \r\n        //if no active, set the first one \r\n        if(activeIndex == -1) { \r\n            let firstIndex = this._timestamps.findIndex(stamp => stamp.place == 1)\r\n            this._timestamps[firstIndex].active = true \r\n            this._active = this._timestamps[firstIndex]\r\n        }\r\n\r\n    }\r\n\r\n    _setTimestampsEnabled(enabled) { \r\n        this._enabled = enabled; \r\n        this.emit('change')\r\n    }\r\n\r\n    getEnabled() { \r\n        return this._enabled;\r\n    }\r\n\r\n    _nextAcitve() { \r\n        this._cleanPlacement() \r\n        const lastPlace = this._timestamps[this._timestamps.length -1].place\r\n        const currentPlace = this._active.place \r\n\r\n        //get rid of the current active \r\n        this._active = undefined \r\n        this._timestamps.forEach(element => {\r\n            element.active = false; \r\n        });\r\n\r\n        const nextActivePlace = ( (currentPlace) % (lastPlace) ) + 1\r\n        console.log('next place is ', nextActivePlace)\r\n\r\n        this._active = this._timestamps.find( (stamp) => stamp.place == nextActivePlace)\r\n        this._active.active = true \r\n\r\n\r\n        console.log(\"CHANGES? \", this._timestamps)\r\n        this._cleanPlacement()\r\n        this.emit('change')\r\n    }\r\n\r\n    handleAction(action) {\r\n        \r\n        switch(action.type) { \r\n            case \"SET_TIMESTAMPS\": { \r\n                this._setTimestamps(action.timestamps)\r\n                break; \r\n            }\r\n            case \"ADD_TIMESTAMP\": { \r\n                this._addTimestamp(action.timestamp)\r\n                break; \r\n            }\r\n            case \"SET_START\": { \r\n                this._setStart(action.place, action.time)\r\n                break; \r\n            }\r\n            case \"SET_END\": { \r\n                this._setEnd(action.place, action.time)\r\n                break; \r\n            }\r\n            case \"SWAP_PLACES\": { \r\n                this._swapPlaces(action.place1, action.place2)\r\n                break; \r\n            }\r\n            case \"NEXT_ACTIVE\": { \r\n                this._nextAcitve();\r\n                break; \r\n            }\r\n            case \"SET_TIMESTAMPS_ENABLED\": { \r\n                this._setTimestampsEnabled(action.enabled); \r\n                break; \r\n            }\r\n            default: { \r\n                break; \r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst ourTimestampsStore = new TimestampStore\r\nwindow.getTimestampStore = () => { return ourTimestampsStore }\r\nDispatcher.register(ourTimestampsStore.handleAction.bind(ourTimestampsStore))\r\nexport default ourTimestampsStore;","import React, { useState, useEffect } from 'react' \r\nimport Timestamp from './Timestamp';\r\nimport TimestampsStore from \"../../stores/timestamps\"\r\nimport { setTimestamps } from \"../../actions/timestamps\"\r\n\r\nexport default (props) => { \r\n\r\n    const [timestamps, setTimestamps] = useState(TimestampsStore.getTimestamps())\r\n\r\n    function changeListener() { \r\n        setTimestamps(TimestampsStore.getTimestamps())\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        TimestampsStore.on('change', changeListener)\r\n        return function cleanUp() { \r\n            TimestampsStore.removeListener('change', changeListener)\r\n        }\r\n    })\r\n\r\n    function changeStart() { \r\n\r\n    }\r\n\r\n    function changeEnd() { \r\n\r\n    }\r\n\r\n    function changePlace() { \r\n\r\n    }\r\n\r\n    console.log(\"RENDING WITH \", timestamps)\r\n    return(<>\r\n        {timestamps.map(ts => \r\n            <Timestamp place={ts.place} \r\n                changeStart={changeStart} \r\n                changeEnd={changeEnd} \r\n                changePlace={changePlace}\r\n                data={ts}>\r\n                hi\r\n            </Timestamp>\r\n        )}\r\n    </>);\r\n}","import React from 'react' \r\nimport styleModule from \"./style.module.css\"\r\nexport default (props) => { \r\n    return (<div className={styleModule.inputField}>\r\n        <div className={styleModule.inputTitle}>\r\n            <div className={styleModule.tag}> \r\n                {props.title}\r\n            </div>     \r\n        </div> \r\n        <input className={styleModule.inputValue} value={props.value} onChange={props.onChange}/>\r\n        \r\n    </div>); \r\n}","import Dispatcher from '../dispatcher'\r\nimport EventEmitter from 'events'\r\n\r\nclass VideoStore extends EventEmitter { \r\n    constructor() { \r\n        super() \r\n        this._videoPlayer = undefined \r\n    }\r\n\r\n\r\n    getVideoID() { \r\n        if(this._videoPlayer == undefined) return undefined \r\n        try { \r\n            const theURL = new URL(this._videoPlayer.getVideoUrl())\r\n            return theURL.searchParams.get('v')\r\n        } catch(e) { \r\n            return undefined; \r\n        }\r\n    }\r\n\r\n    _setVideoPlayer(player) { \r\n        this._videoPlayer = player; \r\n        if(this._videoID) { \r\n            this._setVideoID(this._videoID)\r\n            this._videoID = undefined; \r\n            return; //_setVideoID should emit change for us \r\n        }\r\n        this.emit('change')\r\n    }\r\n\r\n    _setVideoID(id) { \r\n        this._videoID = id; \r\n        //if our player isnt ready, queue the video id and the video will load it on _setVideoPlayer(player) \r\n        if(this._videoPlayer == undefined) { \r\n            return; \r\n        }\r\n        this._videoPlayer.loadVideoById(id)\r\n        this.emit('change')\r\n    }\r\n\r\n    handleAction(action) { \r\n        console.log(\"GOT ACTION?11\", action)\r\n        switch(action.type) { \r\n            case \"SET_VIDEO_PLAYER\": { \r\n                this._setVideoPlayer(action.player)\r\n                break; \r\n            }\r\n            case \"SET_VIDEO_ID\": { \r\n                this._setVideoID(action.id)\r\n                break; \r\n            }\r\n            default: { \r\n\r\n                break; \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst videoStoreInstance = new VideoStore\r\nwindow.getVideoStore = () => {return videoStoreInstance} \r\nDispatcher.register(videoStoreInstance.handleAction.bind(videoStoreInstance))\r\nexport default videoStoreInstance; ","import React, { useState, useEffect } from 'react' \r\nimport {setVideoID} from '../../actions/video'\r\nimport FieldInput from \"../common/FieldInput\"\r\nimport Panel from \"./Panel\"\r\nimport {setTimestampsEnabled} from \"../../actions/timestamps\"\r\nimport TimestampStore from \"../../stores/timestamps\"\r\nimport VideoStore from \"../../stores/video\"\r\nimport { unstable_renderSubtreeIntoContainer } from 'react-dom'\r\n\r\nexport default (props) => { \r\n\r\n    const [url, setURL] = useState(\"https://www.youtube.com/watch?v=pxw-5qfJ1dk&t=5914s\")\r\n    const [stampsEnabled, setStampsEnabled] = useState(TimestampStore.getEnabled())\r\n\r\n    function updateEnabled(){\r\n        setStampsEnabled(TimestampStore.getEnabled())\r\n    }\r\n\r\n    useEffect(()=>{\r\n        TimestampStore.on('change', updateEnabled)\r\n        VideoStore.on('change', ()=>{changeVideo(url)})\r\n        changeVideo(url)\r\n        return function cleanUp() { \r\n            TimestampStore.removeListener('change', updateEnabled);\r\n        }\r\n    })\r\n\r\n    function changeVideo(url) { \r\n        //dont reload the video url if its already what we're playing\r\n        if(VideoStore.getVideoID() == (new URL(url)).searchParams.get('v')) {\r\n            console.log(\"Tried to refresh but video id is the same\")\r\n            return; \r\n        }\r\n\r\n        try {\r\n            const theURL = new URL(url)\r\n            const videoID = theURL.searchParams.get('v')\r\n            if(videoID) { \r\n                setVideoID(videoID)\r\n            }\r\n        } catch(e) {\r\n            console.error(\"wow we got an errorr\", e)\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n\r\n    function change(e) { \r\n        console.log('change event', e)\r\n        setURL(e.target.value)\r\n    }\r\n\r\n    function playTimestampsEnabledChange(e) { \r\n        setTimestampsEnabled(e.target.checked)\r\n    }\r\n    \r\n    return(<> \r\n        <FieldInput title={\"URL\"} value={url} onChange={change}></FieldInput>\r\n        <div> \r\n            Play Timestamps <input checked={TimestampStore.getEnabled()} onChange={playTimestampsEnabledChange}type=\"checkbox\"/>\r\n        </div> \r\n    </>);\r\n}","import Dispatcher from \"../dispatcher\"\r\n\r\nexport const setVideoPlayer = (videoPlayer) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SET_VIDEO_PLAYER\", \r\n        player: videoPlayer\r\n    })\r\n}\r\n\r\nexport const setVideoID = (id) => { \r\n    Dispatcher.dispatch({\r\n        type: \"SET_VIDEO_ID\", \r\n        id\r\n    })\r\n}","import React, { useState } from 'react' \r\nimport styleModule from './style.module.css'\r\nimport YoutubeVideo from \"../../components/YoutubeVideo/YoutubeVideo\"\r\nimport Timestamps from \"../../components/Timestamps/Timestamps\"\r\nimport {setTimestamps, addTimestamp, nextActive} from \"../../actions/timestamps\"\r\nimport TimestampsStore from \"../../stores/timestamps\"\r\nimport {setVideoID, setVideoPlayer} from \"../../actions/video\"\r\nimport ControlPanel from '../../components/ControlPanel/ControlPanel'\r\n\r\nexport default () => { \r\n\r\n    setTimestamps([\r\n        {start: 10, end: 15},\r\n        {start: 40, end: 45},\r\n        {start: 80, end: 85},\r\n    ])\r\n    \r\n    console.log(\"RAAAAAAAAAAAAAAAAAAAAAAAAATSSS\")\r\n    return (<>\r\n        <div style={{padding: '1em', backgroundColor:'var(--color-primary)'}}>\r\n            <div style={{fontWeight:\"700\"}}> Clippy </div> \r\n        </div> \r\n        <div className={styleModule.editor}> \r\n            <div className={styleModule.left}> \r\n                <div className={styleModule.upperLeft}>\r\n                    <YoutubeVideo\r\n                        events={{\r\n                            'onStateChange': (e) => {\r\n                                console.log('state change')\r\n                            },\r\n                            'onError': (e) => {\r\n                                console.log('error')\r\n                            },\r\n                            'onReady': (e, player) => {\r\n                                setVideoPlayer(player)\r\n                                setInterval(()=>{\r\n                                    if(TimestampsStore.getEnabled() == false) return;\r\n                                    let time = Math.floor(player.getCurrentTime())\r\n                                        \r\n                                    if(TimestampsStore._active == undefined) { \r\n                                        console.log(\"No active index\")\r\n                                        return; \r\n                                    }\r\n\r\n                                    const active = TimestampsStore._active\r\n                                    if(time < active.start) { \r\n                                        player.seekTo(active.start)\r\n                                    }\r\n                                    if(time >= active.end) { \r\n                                        nextActive() \r\n                                        player.seekTo(TimestampsStore._active.start)\r\n                                        \r\n                                    }\r\n                                    console.log('state?')\r\n                                    if(player.getPlayerState() == 0) { \r\n                                        console.log('ended')\r\n                                        nextActive() \r\n                                        player.seekTo(TimestampsStore._active.start)\r\n                                        player.playVideo()\r\n                                    }\r\n\r\n                                    \r\n                                }, 500)\r\n                            }\r\n                        }}\r\n                    ></YoutubeVideo>\r\n                </div>\r\n                <div className={styleModule.lowerLeft}> \r\n                    <ControlPanel></ControlPanel>\r\n                </div>\r\n            </div> \r\n            <div className={styleModule.right}> \r\n                <button onClick={(e) => {\r\n                    addTimestamp({place:99999, start:12, end: 15})\r\n                }}>add</button>\r\n                <button>remove</button>\r\n                <Timestamps>\r\n                </Timestamps>\r\n            </div> \r\n        </div>  \r\n    </>);\r\n}\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Editor from \"./pages/editor\"\n\n//we need to create out stores -_-\nimport TimestampsStore from \"./stores/timestamps\"\nimport VideoStore from \"./stores/video\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Editor></Editor>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}